<%- include('../partials/header', { title: "Products" }) %>

<a href="/products/new" class="btn btn-primary mb-3">+ Add Product</a>
<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th>Name</th><th>Price</th><th>Category</th><th>Supplier</th><th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% products.forEach(p => { %>
      <tr>
        <td><%= p.name %></td>
        <td>$<%= p.price ? p.price.toFixed(2) : '0.00' %></td>
        <td><%= p.category || 'N/A' %></td>
        <td><%= p.supplierId ? p.supplierId.name : "N/A" %></td>
        <td>
          <a href="/products/edit/<%= p._id %>" class="btn btn-warning btn-sm">Edit</a>
          <a href="/products/delete/<%= p._id %>" class="btn btn-danger btn-sm">Delete</a>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('../partials/footer') %>
